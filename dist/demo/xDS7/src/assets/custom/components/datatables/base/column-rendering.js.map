{"version":3,"names":[],"mappings":"","sources":["components/datatables/base/column-rendering.js"],"sourcesContent":["//== Class definition\r\n\r\nvar DatatableColumnRenderingDemo = function() {\r\n  //== Private functions\r\n\r\n  // basic demo\r\n  var demo = function() {\r\n\r\n    var datatable = $('.m_datatable').mDatatable({\r\n      // datasource definition\r\n      data: {\r\n        type: 'remote',\r\n        source: {\r\n          read: {\r\n            url: 'inc/api/datatables/demos/default.php',\r\n          },\r\n        },\r\n        pageSize: 10, // display 20 records per page\r\n        serverPaging: true,\r\n        serverFiltering: true,\r\n        serverSorting: true,\r\n      },\r\n\r\n      // layout definition\r\n      layout: {\r\n        theme: 'default', // datatable theme\r\n        class: '', // custom wrapper class\r\n        scroll: false, // enable/disable datatable scroll both horizontal and vertical when needed.\r\n        footer: false // display/hide footer\r\n      },\r\n\r\n      // column sorting\r\n      sortable: true,\r\n\r\n      pagination: true,\r\n\r\n      search: {\r\n        input: $('#generalSearch'),\r\n        delay: 400,\r\n      },\r\n\r\n      rows: {\r\n        callback: function(row, data, index) {\r\n        },\r\n      },\r\n\r\n      // columns definition\r\n      columns: [\r\n        {\r\n          field: 'RecordID',\r\n          title: '#',\r\n          sortable: false, // disable sort for this column\r\n          width: 40,\r\n          textAlign: 'center',\r\n          selector: {class: 'm-checkbox--solid m-checkbox--brand'},\r\n        }, {\r\n          width: 200,\r\n          field: 'CompanyAgent',\r\n          title: 'Agent',\r\n          template: function(data) {\r\n            var number = mUtil.getRandomInt(1, 14);\r\n            var user_img = '100_' + number + '.jpg';\r\n\r\n            if (number > 8) {\r\n              output = '<div class=\"m-card-user m-card-user--sm\">\\\r\n\t\t\t\t\t\t\t\t<div class=\"m-card-user__pic\">\\\r\n\t\t\t\t\t\t\t\t\t<img src=\"./assets/app/media/img/users/' + user_img + '\" class=\"m--img-rounded m--marginless\" alt=\"photo\">\\\r\n\t\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t\t<div class=\"m-card-user__details\">\\\r\n\t\t\t\t\t\t\t\t\t<span class=\"m-card-user__name\">' + data.CompanyAgent + '</span>\\\r\n\t\t\t\t\t\t\t\t\t<a href=\"\" class=\"m-card-user__email m-link\">' +\r\n                  data.CompanyName + '</a>\\\r\n\t\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t</div>';\r\n            } else {\r\n              var stateNo = mUtil.getRandomInt(0, 7);\r\n              var states = [\r\n                'success',\r\n                'brand',\r\n                'danger',\r\n                'accent',\r\n                'warning',\r\n                'metal',\r\n                'primary',\r\n                'info'];\r\n              var state = states[stateNo];\r\n\r\n              output = '<div class=\"m-card-user m-card-user--sm\">\\\r\n\t\t\t\t\t\t\t\t<div class=\"m-card-user__pic\">\\\r\n\t\t\t\t\t\t\t\t\t<div class=\"m-card-user__no-photo m--bg-fill-' + state +\r\n                  '\"><span>' + data.CompanyAgent.substring(0, 1) + '</span></div>\\\r\n\t\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t\t<div class=\"m-card-user__details\">\\\r\n\t\t\t\t\t\t\t\t\t<span class=\"m-card-user__name\">' + data.CompanyAgent + '</span>\\\r\n\t\t\t\t\t\t\t\t\t<a href=\"\" class=\"m-card-user__email m-link\">' +\r\n                  data.CompanyName + '</a>\\\r\n\t\t\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t\t</div>';\r\n            }\r\n\r\n            return output;\r\n          },\r\n        }, {\r\n          field: 'ShipCountry',\r\n          title: 'Ship Country',\r\n          width: 150,\r\n          // callback function support for column rendering\r\n          template: function(data) {\r\n            return data.ShipCountry + ' - ' + data.ShipCity;\r\n          },\r\n        }, {\r\n          field: 'ShipAddress',\r\n          title: 'Ship Address',\r\n          width: 200,\r\n        }, {\r\n          field: 'CompanyEmail',\r\n          title: 'Email',\r\n          width: 150,\r\n          template: function(data) {\r\n            return '<a class=\"m-link\" href=\"mailto:' + data.CompanyEmail +\r\n                '\">' +\r\n                data.CompanyEmail + '</a>';\r\n          },\r\n        }, {\r\n          field: 'Status',\r\n          title: 'Status',\r\n          // callback function support for column rendering\r\n          template: function(data) {\r\n            var status = {\r\n              1: {'title': 'Pending', 'class': 'm-badge--brand'},\r\n              2: {'title': 'Delivered', 'class': ' m-badge--metal'},\r\n              3: {'title': 'Canceled', 'class': ' m-badge--primary'},\r\n              4: {'title': 'Success', 'class': ' m-badge--success'},\r\n              5: {'title': 'Info', 'class': ' m-badge--info'},\r\n              6: {'title': 'Danger', 'class': ' m-badge--danger'},\r\n              7: {'title': 'Warning', 'class': ' m-badge--warning'},\r\n            };\r\n            return '<span class=\"m-badge ' + status[data.Status].class +\r\n                ' m-badge--wide\">' + status[data.Status].title + '</span>';\r\n          },\r\n        }, {\r\n          field: 'Type',\r\n          title: 'Type',\r\n          // callback function support for column rendering\r\n          template: function(data) {\r\n            var status = {\r\n              1: {'title': 'Online', 'state': 'danger'},\r\n              2: {'title': 'Retail', 'state': 'primary'},\r\n              3: {'title': 'Direct', 'state': 'accent'},\r\n            };\r\n            return '<span class=\"m-badge m-badge--' + status[data.Type].state +\r\n                ' m-badge--dot\"></span>&nbsp;<span class=\"m--font-bold m--font-' +\r\n                status[data.Type].state + '\">' + status[data.Type].title +\r\n                '</span>';\r\n          },\r\n        }, {\r\n          field: 'Actions',\r\n          width: 110,\r\n          title: 'Actions',\r\n          sortable: false,\r\n          overflow: 'visible',\r\n          template: function (row, index, datatable) {\r\n            var dropup = (datatable.getPageSize() - index) <= 4 ? 'dropup' : '';\r\n            return '\\\r\n\t\t\t\t\t\t<div class=\"dropdown ' + dropup + '\">\\\r\n\t\t\t\t\t\t\t<a href=\"#\" class=\"btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill\" data-toggle=\"dropdown\">\\\r\n                                <i class=\"la la-ellipsis-h\"></i>\\\r\n                            </a>\\\r\n\t\t\t\t\t\t  \t<div class=\"dropdown-menu dropdown-menu-right\">\\\r\n\t\t\t\t\t\t    \t<a class=\"dropdown-item\" href=\"#\"><i class=\"la la-edit\"></i> Edit Details</a>\\\r\n\t\t\t\t\t\t    \t<a class=\"dropdown-item\" href=\"#\"><i class=\"la la-leaf\"></i> Update Status</a>\\\r\n\t\t\t\t\t\t    \t<a class=\"dropdown-item\" href=\"#\"><i class=\"la la-print\"></i> Generate Report</a>\\\r\n\t\t\t\t\t\t  \t</div>\\\r\n\t\t\t\t\t\t</div>\\\r\n\t\t\t\t\t\t<a href=\"#\" class=\"m-portlet__nav-link btn m-btn m-btn--hover-accent m-btn--icon m-btn--icon-only m-btn--pill\" title=\"Edit details\">\\\r\n\t\t\t\t\t\t\t<i class=\"la la-edit\"></i>\\\r\n\t\t\t\t\t\t</a>\\\r\n\t\t\t\t\t\t<a href=\"#\" class=\"m-portlet__nav-link btn m-btn m-btn--hover-danger m-btn--icon m-btn--icon-only m-btn--pill\" title=\"Delete\">\\\r\n\t\t\t\t\t\t\t<i class=\"la la-trash\"></i>\\\r\n\t\t\t\t\t\t</a>\\\r\n\t\t\t\t\t';\r\n          },\r\n        }],\r\n    });\r\n\r\n    var query = datatable.getDataSourceQuery();\r\n\r\n    $('#m_form_status').on('change', function() {\r\n      // shortcode to datatable.getDataSourceParam('query');\r\n      var query = datatable.getDataSourceQuery();\r\n      query.Status = $(this).val().toLowerCase();\r\n      // shortcode to datatable.setDataSourceParam('query', query);\r\n      datatable.setDataSourceQuery(query);\r\n      datatable.load();\r\n    }).val(typeof query.Status !== 'undefined' ? query.Status : '');\r\n\r\n    $('#m_form_type').on('change', function() {\r\n      // shortcode to datatable.getDataSourceParam('query');\r\n      var query = datatable.getDataSourceQuery();\r\n      query.Type = $(this).val().toLowerCase();\r\n      // shortcode to datatable.setDataSourceParam('query', query);\r\n      datatable.setDataSourceQuery(query);\r\n      datatable.load();\r\n    }).val(typeof query.Type !== 'undefined' ? query.Type : '');\r\n\r\n    $('#m_form_status, #m_form_type').selectpicker();\r\n  };\r\n\r\n  return {\r\n    // public functions\r\n    init: function() {\r\n      demo();\r\n    },\r\n  };\r\n}();\r\n\r\njQuery(document).ready(function() {\r\n  DatatableColumnRenderingDemo.init();\r\n});"],"file":"column-rendering.js"}