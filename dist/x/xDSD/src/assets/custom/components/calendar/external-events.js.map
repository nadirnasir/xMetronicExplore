{"version":3,"names":[],"mappings":"","sources":["components/calendar/external-events.js"],"sourcesContent":["var CalendarExternalEvents = function() {\r\n\r\n    var initExternalEvents = function() {\r\n        $('#m_calendar_external_events .fc-event').each(function() {\r\n\r\n            // store data so the calendar knows to render an event upon drop\r\n            $(this).data('event', {\r\n                title: $.trim($(this).text()), // use the element's text as the event title\r\n                stick: true, // maintain when user navigates (see docs on the renderEvent method)\r\n                className: $(this).data('color'),\r\n                description: 'Lorem ipsum dolor eius mod tempor labore'\r\n            });\r\n\r\n            // make the event draggable using jQuery UI\r\n            $(this).draggable({\r\n                zIndex: 999,\r\n                revert: true, // will cause the event to go back to its\r\n                revertDuration: 0 //  original position after the drag\r\n            });\r\n        });\r\n    }\r\n\r\n    var initCalendar = function() {\r\n        var todayDate = moment().startOf('day');\r\n        var YM = todayDate.format('YYYY-MM');\r\n        var YESTERDAY = todayDate.clone().subtract(1, 'day').format('YYYY-MM-DD');\r\n        var TODAY = todayDate.format('YYYY-MM-DD');\r\n        var TOMORROW = todayDate.clone().add(1, 'day').format('YYYY-MM-DD');\r\n\r\n        var calendar = $('#m_calendar');\r\n\r\n        calendar.fullCalendar({\r\n            header: {\r\n                left: 'prev,next today',\r\n                center: 'title',\r\n                right: 'month,agendaWeek,agendaDay,listWeek'\r\n            },\r\n            eventLimit: true, // allow \"more\" link when too many events\r\n            navLinks: true,\r\n            events: [\r\n                {\r\n                    title: 'All Day Event',\r\n                    start: YM + '-01',\r\n                    description: 'Lorem ipsum dolor sit incid idunt ut',\r\n                    className: \"m-fc-event--success\"\r\n                },\r\n                {\r\n                    title: 'Reporting',\r\n                    start: YM + '-14T13:30:00',\r\n                    description: 'Lorem ipsum dolor incid idunt ut labore',\r\n                    end: YM + '-14',\r\n                    className: \"m-fc-event--accent\"\r\n                },\r\n                {\r\n                    title: 'Company Trip',\r\n                    start: YM + '-02',\r\n                    description: 'Lorem ipsum dolor sit tempor incid',\r\n                    end: YM + '-03',\r\n                    className: \"m-fc-event--primary\"\r\n                },\r\n                {\r\n                    title: 'Expo',\r\n                    start: YM + '-03',\r\n                    description: 'Lorem ipsum dolor sit tempor inci',\r\n                    end: YM + '-05',\r\n                    className: \"m-fc-event--primary\"\r\n                },\r\n                {\r\n                    title: 'Dinner',\r\n                    start: YM + '-12',\r\n                    description: 'Lorem ipsum dolor sit amet, conse ctetur',\r\n                    end: YM + '-10'\r\n                },\r\n                {\r\n                    id: 999,\r\n                    title: 'Repeating Event',\r\n                    start: YM + '-09T16:00:00',\r\n                    description: 'Lorem ipsum dolor sit ncididunt ut labore',\r\n                    className: \"m-fc-event--danger\"\r\n                },\r\n                {\r\n                    id: 1000,\r\n                    title: 'Repeating Event',\r\n                    description: 'Lorem ipsum dolor sit amet, labore',\r\n                    start: YM + '-16T16:00:00'\r\n                },\r\n                {\r\n                    title: 'Conference',\r\n                    start: YESTERDAY,\r\n                    end: TOMORROW,\r\n                    description: 'Lorem ipsum dolor eius mod tempor labore',\r\n                    className: \"m-fc-event--accent\"\r\n                },\r\n                {\r\n                    title: 'Meeting',\r\n                    start: TODAY + 'T10:30:00',\r\n                    end: TODAY + 'T12:30:00',\r\n                    description: 'Lorem ipsum dolor eiu idunt ut labore'\r\n                },\r\n                {\r\n                    title: 'Lunch',\r\n                    start: TODAY + 'T12:00:00',\r\n                    className: \"m-fc-event--info\",\r\n                    description: 'Lorem ipsum dolor sit amet, ut labore'\r\n                },\r\n                {\r\n                    title: 'Meeting',\r\n                    start: TODAY + 'T14:30:00',\r\n                    className: \"m-fc-event--warning\",\r\n                    description: 'Lorem ipsum conse ctetur adipi scing'\r\n                },\r\n                {\r\n                    title: 'Happy Hour',\r\n                    start: TODAY + 'T17:30:00',\r\n                    className: \"m-fc-event--metal\",\r\n                    description: 'Lorem ipsum dolor sit amet, conse ctetur'\r\n                },\r\n                {\r\n                    title: 'Dinner',\r\n                    start: TODAY + 'T20:00:00',\r\n                    description: 'Lorem ipsum dolor sit ctetur adipi scing'\r\n                },\r\n                {\r\n                    title: 'Birthday Party',\r\n                    start: TOMORROW + 'T07:00:00',\r\n                    className: \"m-fc-event--primary\",\r\n                    description: 'Lorem ipsum dolor sit amet, scing'\r\n                },\r\n                {\r\n                    title: 'Click for Google',\r\n                    url: 'http://google.com/',\r\n                    start: YM + '-28',\r\n                    description: 'Lorem ipsum dolor sit amet, labore'\r\n                }\r\n            ],\r\n\r\n            editable: true,\r\n            droppable: true, // this allows things to be dropped onto the calendar\r\n\r\n            drop: function(date, jsEvent, ui, resourceId) {\r\n                var sdate = $.fullCalendar.moment(date.format());  // Create a clone of the dropped date.\r\n                sdate.stripTime();        // The time should already be stripped but lets do a sanity check.\r\n                sdate.time('08:00:00');   // Set a default start time.\r\n\r\n                var edate = $.fullCalendar.moment(date.format());  // Create a clone.\r\n                edate.stripTime();        // Sanity check.\r\n                edate.time('12:00:00');   // Set a default end time.\r\n\r\n                $(this).data('event').start = sdate;\r\n                $(this).data('event').end = edate;\r\n\r\n                // is the \"remove after drop\" checkbox checked?\r\n                if ($('#m_calendar_external_events_remove').is(':checked')) {\r\n                    // if so, remove the element from the \"Draggable Events\" list\r\n                    $(this).remove();\r\n                }\r\n            },\r\n\r\n            eventRender: function(event, element) {\r\n                // default render\r\n                if (element.hasClass('fc-day-grid-event')) {\r\n                    element.data('content', event.description);\r\n                    element.data('placement', 'top');\r\n                    mApp.initPopover(element);\r\n                } else if (element.hasClass('fc-time-grid-event')) {\r\n                    element.find('.fc-title').append('<div class=\"fc-description\">' + event.description + '</div>');\r\n                } else if (element.find('.fc-list-item-title').lenght !== 0) {\r\n                    element.find('.fc-list-item-title').append('<div class=\"fc-description\">' + event.description + '</div>');\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    return {\r\n        //main function to initiate the module\r\n        init: function() {\r\n            initExternalEvents();\r\n            initCalendar(); \r\n        }\r\n    };\r\n}();\r\n\r\njQuery(document).ready(function() {\r\n    CalendarExternalEvents.init();\r\n});"],"file":"external-events.js"}